$color--disabled: #888;
$color-bar-status: #fff;
$color-button: #fff;
$color-description: #555;
$color-input--invalid: #f00;
$color-input--valid: #090;
$color-link--focus: #900;
$color-link: #009;
$color-menu-link--current: #fff;
$color-menu-status: #fff;
$color-status: #f00;
$color-title: #66a;
$color: #000;
$fill-alert--error: #fcc;
$fill-alert--info: #ccf;
$fill-alert--success: #cfc;
$fill-alert: #eee;
$fill-bar-status: #f00;
$fill-button--focus: #900;
$fill-button: #009;
$fill-file--current: #fec;
$fill-file--hover: #eef;
$fill-file-icon: #fea;
$fill-fix: #dda;
$fill-folder-icon: #d00;
$fill-input: #ffa;
$fill-item: #08a;
$fill-items: #090;
$fill-menu-link--current: #d00;
$fill-menu-link--hover: #eef;
$fill-menu-status: #f00;
$fill-tag-picker__tag: #f00;
$fill-toggle--checked: #090;
$fill-toggle: #c00;
$fill: #fff;
$shadow-button: 0 1px 1px rgba(0, 0, 0, 0.5);
$shadow-input: inset 0 1px 1px rgba(0, 0, 0, 0.25);
$shadow-menu: 0 1px 5px rgba(0, 0, 0, 0.5);
$shadow-option-picker__options: 0 1px 5px rgba(0, 0, 0, 0.5);
$shadow-stack--current: inset 3px 0 0 #ccf;
$shadow-stack-link: inset 3px 0 0 #cfc;
$shadow-stack: inset 3px 0 0 #fcc;
$shadow-tab--current: inset 0 3px 0 #ccf;
$shadow-tab-link: inset 0 3px 0 #cfc;
$shadow-tab: inset 0 3px 0 #fcc;
$stroke-file--current: #fec;
$stroke-file--hover: #eef;
$stroke: #888;

:root {
  --color--disabled: #{$color--disabled};
  --color-bar-caret: #{darken($fill, 50%)};
  --color-bar-link--disabled: #{darken($fill, 20%)};
  --color-bar-link--hover: #{darken($fill, 20%)};
  --color-bar-link: #{darken($fill, 20%)};
  --color-bar-status: #{$color-bar-status};
  --color-bar: #{darken($fill, 40%)};
  --color-button: #{$color-button};
  --color-code-block: #{darken($fill, 10%)};
  --color-description: #{$color-description};
  --color-input--invalid: #{$color-input--invalid};
  --color-input--valid: #{$color-input--valid};
  --color-input: #{$color};
  --color-link--hover: #{$color-link};
  --color-link: #{$color-link};
  @each $v in (menu, menus) {
    --color-#{$v}-caret: #{darken($fill, 50%)};
    --color-#{$v}-link--current: #{$color-menu-link--current};
    --color-#{$v}-link--hover: #{$color-link};
    --color-#{$v}-link: #{$color-link};
    --color-#{$v}-status: #{$color-bar-status};
  }
  --color-output: inherit;
  --color-stack-link--active: #{$color-link--focus};
  --color-stack-link--focus: #{$color-link--focus};
  --color-stack-link--hover: #{$color-link};
  --color-stack-link: #{$color-link};
  --color-status: #{$color-status};
  --color-tab-link--active: #{$color-link--focus};
  --color-tab-link--focus: #{$color-link--focus};
  --color-tab-link--hover: #{$color-link};
  --color-tab-link: #{$color-link};
  --color-title: #{$color-title};
  --color: #{$color};
  --fill-alert--error: #{$fill-alert--error};
  --fill-alert--info: #{$fill-alert--info};
  --fill-alert--success: #{$fill-alert--success};
  --fill-alert: #{$fill-alert};
  --fill-bar-status: #{$fill-bar-status};
  --fill-bar: #{lighten($color, 10%)};
  --fill-button--hover: #{$fill-button};
  --fill-button: #{$fill-button};
  --fill-code-block: #{lighten($color, 10%)};
  --fill-file-icon: #{$fill-file-icon};
  --fill-fix: #{$fill-fix};
  --fill-folder-icon: #{$fill-folder-icon};
  --fill-input--disabled: #{lighten($fill-input, 10%)};
  --fill-input--read-only: #{lighten($fill-input, 10%)};
  --fill-input: #{$fill-input};
  @each $v in (menu, menus) {
    --fill-#{$v}-link--active: #{darken($fill-menu-link--hover, 2%)};
    --fill-#{$v}-link--current: #{$fill-menu-link--current};
    --fill-#{$v}-link--hover: #{$fill-menu-link--hover};
    --fill-#{$v}-status: #{$fill-bar-status};
    --fill-#{$v}: #{$fill};
  }
  --fill-tag-picker__tag--disabled: #{lighten($fill-tag-picker__tag, 10%)};
  --fill-tag-picker__tag--focus: #{darken($fill-tag-picker__tag, 10%)};
  --fill-tag-picker__tag--read-only: #{lighten($fill-tag-picker__tag, 5%)};
  --fill-tag-picker__tag: #{$fill-tag-picker__tag};
  --fill: #{$fill};
  --shadow-button: #{$shadow-button};
  --shadow-input--disabled: #{$shadow-input};
  --shadow-input--read-only: #{$shadow-input};
  --shadow-input: #{$shadow-input};
  --shadow-menu: #{$shadow-menu};
  --shadow-option-picker__options: #{$shadow-option-picker__options};
  --shadow-stack--current: #{$shadow-stack--current};
  --shadow-stack-link: #{$shadow-stack-link};
  --shadow-stack: #{$shadow-stack};
  --shadow-tab--current: #{$shadow-tab--current};
  --shadow-tab-link: #{$shadow-tab-link};
  --shadow-tab: #{$shadow-tab};
  --shadow-tag-picker__tag--disabled: none;
  --shadow-tag-picker__tag: #{$shadow-button};
  --stroke-file-icon: #{$color};
  --stroke-input--invalid: #{$color-input--invalid};
  --stroke-input--valid: #{$color-input--valid};
  --stroke-input: #{$color};
  --stroke: #{$stroke};
  @each $v in (focus, active, current) {
    --color-bar-link--#{$v}: #{darken($fill, 10%)};
  }
  @each $v in (hover, focus, active, disabled) {
    --color-button--#{$v}: #{$color-button};
    --shadow-input--#{$v}: #{$shadow-input};
  }
  @each $v in (focus, active) {
    --fill-button--#{$v}: #{$fill-button--focus};
  }
  @each $v in (hover, focus, active) {
    --color-input--#{$v}: #{$color};
    --fill-input--#{$v}: #{$fill-input};
    --shadow-input: #{$shadow-input};
    --stroke-input--#{$v}: #{$color};
  }
  @each $v in (focus, active) {
    --color-link--#{$v}: #{$color-link--focus};
    --color-menu-link--#{$v}: #{$color-link--focus};
  }
  @each $v in (file, folder, page) {
    --fill-#{$v}--active: #{darken($fill-file--hover, 2%)};
    --fill-#{$v}--current: #{$fill-file--current};
    --fill-#{$v}--focus: #{$fill-file--hover};
    --fill-#{$v}--hover: #{$fill-file--hover};
    --stroke-#{$v}--active: #{darken($stroke-file--hover, 2%)};
    --stroke-#{$v}--current: #{$stroke-file--current};
    --stroke-#{$v}--focus: #{$stroke-file--hover};
    --stroke-#{$v}--hover: #{$stroke-file--hover};
  }
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--color-title);
}

.description,
blockquote,
caption,
figcaption {
  color: var(--color-description);
}

fieldset,
table td,
table th {
  border-color: var(--stroke-input);
}

table th {
  background: #fec;
}

input {
  &.is\:host {
    &[type='checkbox'] {
      --fill-button--hover: #{$fill-items};
      --fill-button: #{$fill-items};
      &:checked {
        &::before {
          box-shadow: none;
        }
      }
      @each $v in (focus, active) {
        &:#{$v} {
          --fill-button--#{$v}: #{darken($fill-items, 10%)};
        }
      }
    }
    &[type='radio'] {
      --fill-button--hover: #{$fill-item};
      --fill-button: #{$fill-item};
      @each $v in (focus, active) {
        &:#{$v} {
          --fill-button--#{$v}: #{darken($fill-item, 10%)};
        }
      }
    }
    &[type='checkbox'],
    &[type='radio'] {
      --fill-button--disabled: #{$color--disabled};
      --shadow-button: inset 0 1px 1px rgba(0, 0, 0, .125);
      &::before {
        box-shadow: 0 1px 1px rgba(0, 0, 0, .125);
      }
    }
    &::file-selector-button {
      background: var(--fill-button);
      border-color: var(--stroke-button);
      box-shadow: var(--shadow-button);
      color: var(--color-button);
      @each $v in (hover, focus, active) {
        &:#{$v} {
          background: var(--fill-button--#{$v}, var(--fill-button));
          border-color: var(--stroke-button--#{$v}, var(--stroke-button));
          box-shadow: var(--shadow-button--#{$v}, var(--shadow-button));
          color: var(--color-button--#{$v}, var(--color-button));
        }
      }
    }
    @each $v in (hover, focus, active) {
      &:#{$v}::file-selector-button {
        background: var(--fill-button--#{$v}, var(--fill-button));
        border-color: var(--stroke-button--#{$v}, var(--stroke-button));
        box-shadow: var(--shadow-button--#{$v}, var(--shadow-button));
        color: var(--color-button--#{$v}, var(--color-button));
      }
    }
  }
}

[pattern],
[required] {
  &.is\:host {
    &:focus {
      &:valid {
        --stroke--focus-visible: #{rgba($color-input--valid, .25)};
      }
      &:invalid {
        --stroke--focus-visible: #{rgba($color-input--invalid, .25)};
      }
    }
  }
}

[role='alert'] {
  @each $v in (error, info, success) {
    &.type\:#{$v} {
      background: var(--fill-alert--#{$v}, --fill-alert);
      border-color: var(--stroke-alert--#{$v}, --stroke-alert);
      color: var(--color-alert--#{$v}, --color-alert);
    }
  }
}

.is\:folder {
  &::after {
    --fill-folder-icon: #{darken($fill-folder-icon, 15%)};
  }
}

@each $v in (file, folder, page) {
  .lot\:#{$v} {
    &:hover,
    &:focus {
      --fill-#{$v}--current: #{darken($fill-file--current, 5%)};
      --stroke-#{$v}--current: #{darken($stroke-file--current, 5%)};
    }
    &:active {
      --fill-#{$v}--current: #{darken($fill-file--current, 10%)};
      --stroke-#{$v}--current: #{darken($stroke-file--current, 10%)};
    }
  }
}

.as\:separator {
  opacity: 0.125;
}

.lot\:bar {
  .lot\:field {
    input {
      --color-input: var(--fill);
      --fill-input: var(--color);
      @each $v in (hover, focus, active) {
        &:#{$v} {
          --color-input--#{$v}: var(--fill);
          --fill-input--#{$v}: var(--color);
        }
      }
    }
  }
}

.lot\:field {
  &.type\:toggle {
    input {
      &[type='checkbox'] {
        --fill-button--hover: #{$fill-toggle};
        --fill-button: #{$fill-toggle};
        @each $v in (focus, active) {
          &:#{$v} {
            --fill-button--#{$v}: #{darken($fill-toggle, 10%)};
          }
        }
        &:checked {
          --fill-button--hover: #{$fill-toggle--checked};
          --fill-button: #{$fill-toggle--checked};
          @each $v in (focus, active) {
            &:#{$v} {
              --fill-button--#{$v}: #{darken($fill-toggle--checked, 10%)};
            }
          }
        }
      }
    }
  }
}

.lot\:files,
.lot\:folders,
.lot\:pages {
  .lot\:tasks {
    gap: 0;
    > * {
      .title {
        svg {
          + span {
            display: none; // Remove title
          }
        }
      }
    }
  }
}

.lot\:menu {
  a {
    &:hover,
    &:focus {
      --fill-menu-link--current: #{darken($fill-menu-link--current, 5%)};
    }
    &:active {
      --fill-menu-link--current: #{darken($fill-menu-link--current, 10%)};
    }
  }
}

.lot\:menus {
  a {
    &:hover,
    &:focus {
      --fill-menus-link--current: #{darken($fill-menu-link--current, 5%)};
    }
    &:active {
      --fill-menus-link--current: #{darken($fill-menu-link--current, 10%)};
    }
  }
}

.lot\:stack {
  .title {
    padding-left: 3px; // Same with `--shadow-stack` shadow’s x-offset
  }
}

@media (min-width: 719px) {
  .lot\:bar {
    .lot\:links {
      &.of\:lot {
        background: var(--fill);
        color: var(--color);
        > ul {
          > li {
            > a {
              color: var(--color-link);
              @each $v in (hover, focus, active) {
                &:#{$v} {
                  color: var(--color-link--#{$v}, var(--color-link));
                }
              }
            }
            &.is\:active {
              > a {
                background: var(--fill);
                color: var(--color);
                position: relative;
                z-index: 9999; // Must be greater than the `.lot\:menu` index to hide the top shadow from its drop menu
              }
            }
          }
        }
      }
    }
  }
}
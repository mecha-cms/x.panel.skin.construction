$color--disabled: #888;
$color-button: #fff;
$color-description: #666;
$color-input--invalid: #f00;
$color-input--valid: #090;
$color-link--focus: #900;
$color-link: #009;
$color-menu-link--current: #fff;
$color-title: #66a;
$color: #000;
$fill-alert--error: #fcc;
$fill-alert--info: #ccf;
$fill-alert--success: #cfc;
$fill-alert: #eee;
$fill-button--focus: #900;
$fill-button: #009;
$fill-file--current: #fec;
$fill-file--hover: #eef;
$fill-file-icon: #fea;
$fill-fix: #dda;
$fill-folder-icon: #d00;
$fill-input: #ffa;
$fill-item: #08a;
$fill-items: #090;
$fill-menu-link--current: #d00;
$fill-menu-link--hover: #eef;
$fill-tag-picker__tag: #f00;
$fill-toggle--checked: #090;
$fill-toggle: #c00;
$fill: #fff;
$shadow-button: 0 1px 1px rgba(0, 0, 0, .5);
$shadow-input: inset 0 1px 1px rgba(0, 0, 0, .25);
$shadow-menu: 0 1px 5px rgba(0, 0, 0, .5);
$shadow-option-picker__options: 0 1px 5px rgba(0, 0, 0, .5);
$shadow-tab--current: inset 0 3px 0 #ccf;
$shadow-tab-link: inset 0 3px 0 #cfc;
$shadow-tab: inset 0 3px 0 #fcc;
$stroke: #888;

:root {
  --color--disabled: #{$color--disabled};
  --color-bar-caret: #{darken($fill, 50%)};
  --color-bar-link--disabled: #{darken($fill, 20%)};
  --color-bar-link--hover: #{darken($fill, 20%)};
  --color-bar-link: #{darken($fill, 20%)};
  --color-bar: #{darken($fill, 40%)};
  --color-button: #{$color-button};
  --color-code-block: #{darken($fill, 10%)};
  --color-description: #{$color-description};
  --color-input--invalid: #{$color-input--invalid};
  --color-input--valid: #{$color-input--valid};
  --color-input: #{$color};
  --color-link--hover: #{$color-link};
  --color-link: #{$color-link};
  --color-menu-caret: #{darken($fill, 50%)};
  --color-menu-link--current: #{$color-menu-link--current};
  --color-menu-link--hover: #{$color-link};
  --color-menu-link: #{$color-link};
  --color-title: #{$color-title};
  --color: #{$color};
  --fill-alert--error: #{$fill-alert--error};
  --fill-alert--info: #{$fill-alert--info};
  --fill-alert--success: #{$fill-alert--success};
  --fill-alert: #{$fill-alert};
  --fill-bar: #{lighten($color, 10%)};
  --fill-button--hover: #{$fill-button};
  --fill-button: #{$fill-button};
  --fill-code-block: #{lighten($color, 10%)};
  --fill-file-icon: #{$fill-file-icon};
  --fill-fix: #{$fill-fix};
  --fill-folder-icon: #{$fill-folder-icon};
  --fill-input--disabled: #{lighten($fill-input, 10%)};
  --fill-input--read-only: #{lighten($fill-input, 10%)};
  --fill-input: #{$fill-input};
  --fill-menu-link--current: #{$fill-menu-link--current};
  --fill-menu-link--hover: #{$fill-menu-link--hover};
  --fill-menu: #{$fill};
  --fill-tag-picker__tag--disabled: #{lighten($fill-tag-picker__tag, 10%)};
  --fill-tag-picker__tag--focus: #{darken($fill-tag-picker__tag, 10%)};
  --fill-tag-picker__tag--read-only: #{lighten($fill-tag-picker__tag, 5%)};
  --fill-tag-picker__tag: #{$fill-tag-picker__tag};
  --fill: #{$fill};
  --shadow-button: #{$shadow-button};
  --shadow-input: #{$shadow-input};
  --shadow-menu: #{$shadow-menu};
  --shadow-option-picker__options: #{$shadow-menu};
  --shadow-tab--current: #{$shadow-tab--current};
  --shadow-tab-link: #{$shadow-tab-link};
  --shadow-tab: #{$shadow-tab};
  --shadow-tag-picker__tag--disabled: none;
  --shadow-tag-picker__tag: #{$shadow-button};
  --stroke-file-icon: #{$color};
  --stroke-input--invalid: #{$color-input--invalid};
  --stroke-input--valid: #{$color-input--valid};
  --stroke-input: #{$color};
  --stroke: #{$stroke};
  @each $v in (current, focus, active) {
    --color-bar-link--#{$v}: #{darken($fill, 10%)};
  }
  @each $v in (active, disabled, focus, hover) {
    --color-button--#{$v}: #{$color-button};
  }
  @each $v in (focus, active) {
    --fill-button--#{$v}: #{$fill-button--focus};
  }
  @each $v in (hover, focus, active) {
    --color-input--#{$v}: #{$color};
    --fill-input--#{$v}: #{$fill-input};
    --shadow-input: #{$shadow-input};
    --stroke-input--#{$v}: #{$color};
  }
  @each $v in (focus, active) {
    --color-link--#{$v}: #{$color-link--focus};
    --color-menu-link--#{$v}: #{$color-link--focus};
  }
  @each $v in (file, folder, page) {
    --fill-#{$v}--current: #{$fill-file--current};
    --fill-#{$v}--hover: #{$fill-file--hover};
  }
}

h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--color-title);
}

blockquote,
figcaption,
caption,
.description {
  color: var(--color-description);
}

.lot\:files,
.lot\:folders,
.lot\:pages {
  .lot\:tasks {
    gap: 0;
    > * {
      .title {
        span {
          display: none; // Remove title
        }
      }
    }
  }
}

.has\:menu {
  .lot\:menu {
    > .description,
    > .title {
      display: none; // Remove description and title
    }
  }
}

.lot\:menu {
  .lot\:menu {
    > .description,
    > .title {
      display: none; // Remove description and title
    }
  }
}

[pattern],
[required] {
  &:focus {
    &:valid {
      --stroke--focus-visible: #{rgba($color-input--valid, .25)};
    }
    &:invalid {
      --stroke--focus-visible: #{rgba($color-input--invalid, .25)};
    }
  }
}

.as\:separator {
  opacity: .125;
}

.lot\:bar {
  .lot\:field {
    .input {
      --color-input: var(--fill);
      --fill-input: var(--color);
      @each $v in (hover, focus, active) {
        &:#{$v} {
          --color-input--#{$v}: var(--fill);
          --fill-input--#{$v}: var(--color);
        }
      }
    }
  }
}

.input {
  &[type='checkbox'] {
    --fill-button--hover: #{$fill-items};
    --fill-button: #{$fill-items};
    &:checked {
      &::before {
        box-shadow: none;
      }
    }
    @each $v in (focus, active) {
      &:#{$v} {
        --fill-button--#{$v}: #{darken($fill-items, 10%)};
      }
    }
  }
  &[type='radio'] {
    --fill-button--hover: #{$fill-item};
    --fill-button: #{$fill-item};
    @each $v in (focus, active) {
      &:#{$v} {
        --fill-button--#{$v}: #{darken($fill-item, 10%)};
      }
    }
  }
  &[type='checkbox'],
  &[type='radio'] {
    --fill-button--disabled: #{$color--disabled};
    --shadow-button: inset 0 1px 1px rgba(0, 0, 0, .125);
    &::before {
      box-shadow: 0 1px 1px rgba(0, 0, 0, .125);
    }
  }
}

.lot\:field.type\:toggle {
  .input {
    &[type='checkbox'] {
      --fill-button--hover: #{$fill-toggle};
      --fill-button: #{$fill-toggle};
      @each $v in (focus, active) {
        &:#{$v} {
          --fill-button--#{$v}: #{darken($fill-toggle, 10%)};
        }
      }
      &:checked {
        --fill-button--hover: #{$fill-toggle--checked};
        --fill-button: #{$fill-toggle--checked};
        @each $v in (focus, active) {
          &:#{$v} {
            --fill-button--#{$v}: #{darken($fill-toggle--checked, 10%)};
          }
        }
      }
    }
  }
}

@media (min-width: 719px) {
  .lot\:bar {
    .lot\:links {
      .is\:main {
        background: var(--fill);
        color: var(--color);
        &.is\:active {
          > a {
            background: inherit;
            color: inherit;
            position: relative;
            z-index: 9999; /* Must be greater than the `.lot\:menu` index to hide the top shadow from its drop menu */
          }
        }
        > a {
          color: var(--color-link);
          @each $v in (hover, focus, active) {
            &:#{$v} {
              color: var(--color-link--#{$v}, var(--color-link));
            }
          }
        }
      }
    }
  }
}